<?xml version="1.0" encoding="UTF-8"?>
<!-- Related XMLSchema file: conf/schemas/test.xsd -->

<test name="Load tests">

	<parameter name="[speedTrans]" operation="set" value="10000" description="number of transaction per second" editable="true"/>	
  <parameter name="[TestDurationSec]" operation="set" value="360000" description="Duration (in sec.) of the test" editable="true"/>
	<parameter name="[NumberTestcase]" operation="set" value="10" description="number of testcase" editable="true"/>
	
	<parameter name="[localHostDIAM]" operation="system.ipaddress"/>
	<parameter name="[localHostDIAM]" operation="set" value="[Local-Host(0)]"/>
	<!--parameter name="[localHostDIAM]" operation="set" value="17.16.21.32"/-->
	<parameter name="[localPortDIAM]" operation="file.readproperty" value="diameter.properties" value2="listenpoint.LOCAL_PORT"/>
	<parameter name="[localDIAM]" operation="set" value="[Local-Host(0)]:[localPortDIAM]"/>	
	<parameter name="[localRealmDIAM]" operation="set" value="sip.pfdev.fr"/>

	<parameter name="[remoteHostDIAM]" operation="system.ipaddress"/>
	<parameter name="[remoteHostDIAM]" operation="set" value="[remoteHost(0)]" editable="true"/>
	<!--parameter name="[remoteHostDIAM]" operation="set" value="17.16.21.32" editable="true"/-->
	<parameter name="[remotePortDIAM]" operation="file.readproperty" value="diameter.properties" value2="listenpoint.LOCAL_PORT"/>
	<parameter name="[remotePortDIAM]" operation="set" value="[Remote-Port(0)]" editable="true"/>
	<!--parameter name="[remotePortDIAM]" operation="set" value="3868" editable="true"/-->
	<parameter name="[remoteDIAM]" operation="set" value="[remoteHost(0)]:[remotePortDIAM]"/>
	<parameter name="[remoteRealmDIAM]" operation="set" value="sip.pfdev.fr"/>

  <parameter name="[vendorID]" operation="set" value="10415" description="vendor ID" editable="true"/>
  
  <parameter name="[speedTestcase]" operation="divide" value="[speedTrans]" value2="[NumberTestcase]"/>	

	<!--                       -->
    	<!-- RUNPROFILE PARAMETERS -->
    	<!--                       -->    
    	<runProfile>
        	<step time="0" frequency="[speedTestcase]"/>
        	<end delay="[TestDurationSec]"/>
    	</runProfile>

  	<for index="[index]" from="001" to="[NumberTestcase]" step="1"> 

		<testcase name="UNIT-[index]" description="load [index]"  number="1" state="true">
      <parameter name="[applicationID]" operation="set" value="16777216"/>
			<scenario name="aaa-client">client.xml</scenario>
			<scenario name="aaa-server">server.xml</scenario>	

		</testcase>

	</for>
</test>



<test name="test">
    <parameter editable="true" name="[RangeNumberUser]" value="6000" description="Number of subscribers" />
    <parameter editable="true" name="[TryingDuration]" value="0.1" description="Duration (in sec.) between 100 and 180" />
    <parameter editable="true" name="[RingingDuration]" value="3" description="Duration (in sec.) between 180 and 200" />
    <parameter editable="true" name="[CallDurationSec]" value="5" description="Duration (in sec.) of the call" />
    
    <parameter editable="true" name="[RegisterExpires]" value="3600" description="Expiration time (in sec) for the register" />

    <parameter editable="true" name="[TestDurationDay]" value="0" description="Duration (in day) of the test " />
    <parameter editable="true" name="[TestDurationHour]" value="0" description="Duration (in hour) of the test " />
    <parameter editable="true" name="[TestDurationMin]" value="5" description="Duration (in min.) of the test " />
    <parameter editable="true" name="[TestDurationSec]" value="0" description="Duration (in sec.) of the test " />

    <parameter editable="true" name="[InitRAPS]" value="200" description="Register Attempts Per Second (RAPS) for initialisation" />
    <parameter editable="true" name="[RAPS]" value="40" description="Register Attempts Per Second (RAPS)" />
    <parameter editable="true" name="[CAPS]" value="10" description="Call Attempts Per Second (CAPS)" />
    
    <parameter editable="true" name="[domainName]" value="sip.france.fr" description="the domain for user" />

    <!-- compute various durations -->
    <parameter name="[DayToHour]" operation="number.multiply" value="[TestDurationDay]" value2="24" />
    <parameter name="[TestDurationHour]" operation="number.add" value="[TestDurationHour]" value2="[DayToHour]" />
    <parameter name="[HourToMin]" operation="number.multiply" value="[TestDurationHour]" value2="60" />
    <parameter name="[TestDurationMin]" operation="number.add" value="[TestDurationMin]" value2="[HourToMin]" />
    <parameter name="[MinToSec]" operation="number.multiply" value="[TestDurationMin]" value2="60" />
    <parameter name="[TestDurationSecLoader]" operation="number.add" value="[TestDurationSec]" value2="[MinToSec]" />
    <parameter name="[TestDurationSecHandler]" operation="number.add" value="[TestDurationSecLoader]" value2="[CallDurationSec]" />
    <parameter name="[TestDurationSecHandler]" operation="number.add" value="[TestDurationSecHandler]" value2="[CallDurationSec]" />
    

    
    <parameter name="[queueTimeout]" value="30" />
    <parameter name="[contextMutex]" operation="system.semaphorenotify" />


    <!-- user list usage -->
    <parameter name="[userIndexForInvite]" value="0" />
    <parameter name="[userIndexForRegister]" value="0" />
    <parameter name="[userTab]" operation="file.readCsv" value="./user.csv" value2="userName" />
    
    <!-- network parameters -->
    <!-- TODO : improve -->
    <parameter name="[Host-Tester]" value="192.168.1.2" />

    <parameter name="[Host-Server]" value="192.168.1.69" />
    <parameter name="[Port-Server]" value="5060" />
    <parameter name="[Adresse-Server]" operation="set" value="[Host-Server]:[Port-Server]" />
    
    <!-- default run profiler for all handlers -->
    <runProfile>
        <end delay="[TestDurationSecHandler]" />
    </runProfile>
        
    <testcase name="loaderRegisterInit" state="true">
        <runProfile>
            <start delay="1" />
            <step time="0" frequency="[InitRAPS]" />
            <end iteration="[RangeNumberUser]" />
        </runProfile>
        <scenario name="loaderRegister">scenarios/loaderRegister.xml</scenario>
    </testcase>
    
    <testcase name="loaderRegister" state="true">
        <runProfile>
            <start delay="1" />
            <step time="0" frequency="[RAPS]" />
            <end delay="[TestDurationSecLoader]" />
        </runProfile>
        <scenario name="loaderRegister">scenarios/loaderRegister.xml</scenario>
    </testcase>
    
    <testcase name="loaderOption" state="true">
        <runProfile>
            <start delay="1" />
            <step time="0" frequency="[CAPS]" />
            <end delay="[TestDurationSecLoader]" />
        </runProfile>
        <scenario name="loaderOption">scenarios/loaderOption.xml</scenario>
    </testcase>
    
    <!-- dispatcher, must receive messages in order to dispatch them -->
    <!-- for convenience, it is possible to have multiple dispatchers -->
    <testcase name="dispatcher" state="true">
        <scenario name="SIP">scenarios/dispatcher.xml</scenario>
    </testcase>
    
    <!-- scenarios the messages will be dispatched to; each scenario treats one -->
    <!-- message at a given time -->
    <testcase name="onInviteRequest" state="true">
        <scenario name="onInviteRequest">scenarios/onInviteRequest.xml</scenario>
    </testcase>
    <testcase name="onInviteResponse" state="true">
        <scenario name="onInviteResponse">scenarios/onInviteResponse.xml</scenario>
    </testcase>
    <testcase name="onAckRequest" state="true">
        <scenario name="onAckRequest">scenarios/onAckRequest.xml</scenario>
    </testcase>
    <testcase name="onOptionResponse" state="true">
        <scenario name="onOptionResponse">scenarios/onOptionResponse.xml</scenario>
    </testcase>
    <testcase name="onMessageResponse" state="true">
        <scenario name="onMessageResponse">scenarios/onMessageResponse.xml</scenario>
    </testcase>    
    <testcase name="onByeMessageOptionRequest" state="true">
        <scenario name="onByeMessageOptionRequest">scenarios/onByeMessageOptionRequest.xml</scenario>
    </testcase>
    <testcase name="onByeResponse" state="true">
        <scenario name="onByeResponse">scenarios/onByeResponse.xml</scenario>
    </testcase>    
    <testcase name="onOther" state="true">
        <scenario name="onOther">scenarios/onOther.xml</scenario>
    </testcase>
    <testcase name="on401Or407Response" state="true">
        <scenario name="on401Or407Response">scenarios/on401Or407Response.xml</scenario>
    </testcase>
</test>
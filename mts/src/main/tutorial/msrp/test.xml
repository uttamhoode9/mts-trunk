<?xml version="1.0" encoding="UTF-8"?>

<test name="MSRP">

    <parameter name="[IPVersion]" operation="set" value="ipv4" editable="true" />
    <parameter name="[localHostMSRP]" operation="system.ipaddress" value2="[IPVersion]"/>
    <parameter name="[localHostMSRP]" operation="set" value="[localHostMSRP(0)]" editable="true"/>
    
    <parameter name="[remotePortMSRP]" operation="file.readproperty" value="msrp.properties" value2="listenpoint.LOCAL_PORT" />
    <parameter name="[remotePortMSRP]" operation="set" value="[remotePortMSRP]" editable="true" />
    
    <parameter name="[serverTlsPort]" operation="file.readproperty" value="msrp.properties" value2="listenpoint.LOCAL_PORT_TLS" />
    <parameter name="[serverTlsPort]" operation="set" value="[serverTlsPort]" editable="true" />
    <parameter name="[remoteHostMSRP]" operation="set" value="[localHostMSRP]:[remotePortMSRP]"/>

    <testcase name="msrp/000_classicSequence_TCP" state="true">
        <parameter name="[transport]" operation="set" value="TCP" />
        <scenario name="Toto">000_classicSequence/client1.xml</scenario>
        <scenario name="MSRP">000_classicSequence/client2.xml</scenario>
    </testcase>

    <testcase name="msrp/001_classicSequence_TLS" state="true">
        <parameter name="[transport]" operation="set" value="TLS" />
        <scenario name="Toto">000_classicSequence/client1.xml</scenario>
        <scenario name="MSRP">000_classicSequence/client2.xml</scenario>
    </testcase>
    
    <testcase name="msrp/002_messagesAndparameters" state="true">
        <scenario name="Alice">002_parameters/client1.xml</scenario>
        <scenario name="Bob">002_parameters/client2.xml</scenario>
    </testcase>
        
    <testcase name="msrp/003_Chunk" state="true">
    <parameter name="[remotePortMSRP]" operation="set" value="7855"/>    
        <scenario name="Alice">003_chunk/client1.xml</scenario>
        <scenario name="MSRP">003_chunk/client2.xml</scenario>
    </testcase>    

    <testcase name="msrp/004_connection" state="true">
        <scenario name="true">004_connection/client.xml</scenario>
    </testcase>

    <testcase name="msrp/005_passive_client" state="true">
        <parameter name="[transport]" operation="set" value="TCP" />
        <scenario name="MSRP">005_passive_client/client1.xml</scenario>
        <scenario name="TCP">005_passive_client/client2.xml</scenario>

    </testcase>
        
</test>

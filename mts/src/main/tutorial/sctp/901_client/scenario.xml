<?xml version="1.0" encoding="UTF-8"?>
<!-- Related XMLSchema file: conf/schemas/scenario.xsd -->

<scenario>

    <parameter name="[channelName]" operation="set" value="[scenarioName]"/>
    <openChannelSCTP name="[channelName]" remoteHost="[remoteHostSCTP]" remotePort="[remotePortSCTP]" />
   
    <sendMessageSCTP channel="[channelName]">
        <data format="binary">h41:1 h441:1 b01000001:1 d0000065:1 65</data>
    </sendMessageSCTP>
	  
   <receiveMessageSCTP channel="[channelName]"/>
    <parameter name="[stream]" operation="protocol.setFromMessage" value="header.stream"/>
    <parameter name="[ssn]" operation="protocol.setFromMessage" value="header.ssn"/>
    <parameter name="[ppid]" operation="protocol.setFromMessage" value="header.ppid"/>
    <parameter name="[tsn]" operation="protocol.setFromMessage" value="header.tsn"/>    
    <parameter name="[aid]" operation="protocol.setFromMessage" value="header.aid"/>
    <!--test parameter="[aid]" condition="string.equals" value="1" /-->
    
    <parameter name="[sourceHost]" operation="protocol.setFromMessage" value="header.sourceHost"/>
    <!--test parameter="[sourceHost]" condition="string.equals" value="[localHostSCTP]" /-->
    <parameter name="[sourcePort]" operation="protocol.setFromMessage" value="header.sourcePort"/>
    <!--test parameter="[sourcePort]" condition="string.equals" value="[localPortSCTP]" /-->
    
    <parameter name="[contents]" operation="protocol.setFromMessage" value="data.text" />
    <test parameter="[contents]" condition="string.equals" value="AAAAA" />

    <finally>
        <closeChannelSCTP name="[channelName]"/>
    </finally>
    	
</scenario>

<?xml version="1.0" encoding="UTF-8"?>
<!-- Related XMLSchema file: conf/schemas/test.xsd -->

<test name="Load tests">

	<parameter name="[speedTrans]" operation="set" value="100" description="number of transaction per second"   		editable="true"/>	
    <parameter name="[TestDurationSec]" operation="set" value="600" description="Duration (in sec.) of the test"   	editable="true"/>
	<parameter name="[NumberTestcase]" operation="set" value="100" description="number of testcase"   			editable="true"/>

    <parameter name="[Local-Host]" operation="system.ipaddress"/>
	<parameter name="[Local-Port]" operation="file.readproperty" value="diameter.properties" value2="node.LISTENING_PORT"/>
	<parameter name="[Local-Address]" operation="set" value="[Local-Host(0)]:[Local-Port]"/>	
	<parameter name="[Local-Realm]" operation="set" value="sip.pfdev.fr"/>

	<parameter name="[Remote-Host]" operation="system.ipaddress"/>
	<parameter name="[Remote-Port]" operation="file.readproperty" value="diameter.properties" value2="node.LISTENING_PORT"/>
	<parameter name="[Remote-Address]" operation="set" value="[Remote-Host(0)]:[Remote-Port]"/>
	<parameter name="[Remote-Realm]" operation="set" value="sip.pfdev.fr"/>

	<parameter name="[delayTestcase]" operation="divide" value="1" value2="[speedTrans]"/>	
    <parameter name="[delayTestcase]" operation="multiply" value="[delayTestcase]" value2="[NumberTestcase]"/>

    <!--                   -->
	<!-- RUNPROFILE PARAMETERS -->
	<!--                   -->	
	<runProfile>
        <step time="0" period="0"/>
        <end delay="0"/>
	</runProfile>
	
  	<for index="[index]" from="001" to="[NumberTestcase]" step="1"> 
  	
		<testcase name="UNIT-[index]" description="load [index]"  number="1">
			<scenario name="client">client2.xml</scenario>
		</testcase>
		
	</for>
</test>
